<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Veille Technologique BTS SISR</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f2f5; margin:0; padding:20px; }
h1,h2,h3 { color:#333; }
.container { max-width:1000px; margin:auto; }
.sujet { background:white; padding:20px; margin-bottom:20px; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
.actualite { margin-bottom:15px; padding:10px; border-left:4px solid #667eea; }
.actualite p { margin:5px 0; }
.article-link { background:#28a745; color:white; padding:5px 10px; border:none; border-radius:4px; cursor:pointer; text-decoration:none; display:inline-block; }
.article-link:hover { background:#218838; }
.stats { margin-bottom:20px; }
</style>
</head>
<body>
<div class="container">
<h1>üîç Veille Technologique Automatique</h1>
<div class="stats">
  <strong>Total articles:</strong> <span id="total-articles">0</span>
</div>
<div id="veille"></div>
</div>

<script>
async function loadJSON(url) {
  const res = await fetch(url);
  return await res.json();
}

async function renderVeille() {
  const iam = await loadJSON('veilles-data/iam-zero-trust.json');
  const net = await loadJSON('veilles-data/network-automation.json');

  const veilleDiv = document.getElementById('veille');
  let total = iam.length + net.length;
  document.getElementById('total-articles').innerText = total;

  function renderArticles(name, articles) {
    let html = `<div class="sujet"><h2>${name}</h2>`;
    articles.forEach(a => {
      html += `<div class="actualite">
        <p><strong>${a.title}</strong> (${a.date})</p>
        <p>${a.analysis}</p>
        <a class="article-link" href="${a.link}" target="_blank">Lire l'article</a>
      </div>`;
    });
    html += `</div>`;
    return html;
  }

  veilleDiv.innerHTML = renderArticles('üîê IAM & Zero Trust', iam) +
                        renderArticles('‚ö° Cloud & Automatisation R√©seau', net);
}

document.addEventListener('DOMContentLoaded', renderVeille);
</script>
</body>
</html>
